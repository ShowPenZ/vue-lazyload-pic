"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var ClassNames=_interopDefault(require("classnames"));require("intersection-observer");const PicLazyLoad={name:"PicLazyLoad",props:{imgLoaded:{type:Boolean,required:!0},img:{type:String,required:!0},alt:{type:String,required:!0},imgClassName:{type:String,required:!1},skeleton:{type:String,required:!1}},data:()=>({}),render(){const e=arguments[0],t=this,{imgLoaded:o,imgClassName:n,img:s,alt:a,skeleton:i}=t;return e("div",{class:"P-container"},[o?e("img",{class:ClassNames("defaultImg",n),attrs:{src:s,alt:a}}):e("div",{class:ClassNames("skeleton1",i)}),e("img",{class:"noShow",attrs:{src:s,alt:a},on:{load:()=>{t.$emit("onloads",!0)}}})])}},LazyLoadPic={name:"LazyLoadPic",props:{imgClassName:{type:String,required:!1},imgArr:{type:Array,required:!0},imgBoxClassName:{type:String,required:!1}},data:()=>({imgBlob:[],refs:[]}),methods:{getBase64(e,t){let o=new XMLHttpRequest;o.open("get",e,!0),o.responseType="blob",o.onload=(e=>{if(200===e.target.status){const o=e.target.response,n=new FileReader;n.onloadend=(e=>{t(e.target.result)}),n.readAsDataURL(o)}}),o.send()},callback(e){const{imgBlob:t}=this;this.imgBlob=t.concat(e)},onload(e){const t=this,o=new IntersectionObserver(e=>{e.forEach(e=>{const{target:n}=e;if(e.intersectionRatio<=0)return null;t.getBase64(n.dataset.src,t.callback),o.unobserve(n)})},{threshold:[.02]});e.map(e=>o.observe(e))}},render(){const e=arguments[0],t=this,{imgClassName:o,imgBoxClassName:n,boxClassName:s,imgArr:a,imgBlob:i}=t,r=i.length>0;let d=[],l=[];a.map((s,a)=>(t.$nextTick(()=>{l.push(t.$refs[`imgRef${a}`])}),d.push(e("div",{class:ClassNames("defaultImageBox",n),key:a},[e("img",{key:a,class:ClassNames(r?"":"L-skeleton1",o),ref:`imgRef${a}`,attrs:{src:r?i[a]:"",alt:r?s.alt:"","data-src":s.url}})]))));const c=e("div",{class:ClassNames("box",s)},[d,e("img",{on:{error:()=>t.onload(l)},attrs:{src:""}})]);return e("div",{class:"L-container"},[c])}};var script={PicLazyLoad:PicLazyLoad,LazyLoadPic:LazyLoadPic};function styleInject(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===o&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var css=".P-container{background:#fff}.skeleton{width:100%;height:20px;background:linear-gradient(90deg,#496eaa,#944fa8,#a8804f,#496eaa);background-size:1400% 300%;position:absolute;top:10px;left:10px;animation:colorMove 20s ease infinite}.skeleton1{width:300px;height:200px;background:linear-gradient(90deg,#f2f2f2 25%,#e6e6e6 37%,#f2f2f2 63%);background-size:400% 100%;animation:ant-skeleton-loading 1.4s ease infinite}.L-skeleton1{width:300px;height:200px;background:linear-gradient(90deg,#f2f2f2 25%,#e6e6e6 37%,#f2f2f2 63%);background-size:400% 100%;animation:ant-skeleton-loading 1.4s ease infinite}.defaultImg{width:300px;height:200px}.noShow{display:none}.L-container{display:flex;justify-content:center;width:100%}.box{height:400px;overflow-y:scroll}.defaultImageBox{display:flex;justify-content:center;width:500px;height:200px;margin:20px auto}@keyframes colorMove{0%{background-position:0 0}50%{background-position:50% 100%}100%{background-position:100% 0}}@keyframes ant-skeleton-loading{0%{background-position:100% 50%}100%{background-position:0 50%}}";function normalizeComponent(e,t,o,n,s,a,i,r,d,l){"boolean"!=typeof i&&(d=r,r=i,i=!1);const c="function"==typeof o?o.options:o;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),n&&(c._scopeId=n),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):t&&(u=i?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(c.functional){const e=c.render;c.render=function(t,o){return u.call(o),e(t,o)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return o}styleInject(css);const isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),__vue_script__=script,__vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=void 0,__vue_component__=normalizeComponent({},void 0,__vue_script__,void 0,void 0,void 0,!1,void 0,void 0,void 0);module.exports=__vue_component__;
//# sourceMappingURL=Lazyload.min.js.map
